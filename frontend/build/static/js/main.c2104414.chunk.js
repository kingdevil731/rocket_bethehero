(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e,t,a){e.exports=a.p+"static/media/logo.7eea718b.svg"},30:function(e,t,a){e.exports=a.p+"static/media/heroes.1f4b5508.png"},32:function(e,t,a){e.exports=a(65)},38:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),o=a.n(c),l=a(9),u=a(1),s=a(7),i=a.n(s),m=a(11),p=a(3),d=(a(38),a(29)),E=a.n(d).a.create({baseURL:"http://localhost:3333"}),f=a(10),h=a(30),b=a.n(h),g=a(12),v=a.n(g);function j(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],o=localStorage.getItem("ongId"),s=Object(u.f)();function d(){return(d=Object(m.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,E.post("sessions",{id:a});case 4:n=e.sent,localStorage.setItem("ongId",a),localStorage.setItem("ongName",n.data.name),s.push("/profile"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Falha no Login de Sec\xe7\xe3o. #Id Errado, Tente Novamente");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){console.log(o),null==o&&void 0==o||s.push("/profile")}),[]),r.a.createElement("div",{className:"logon-contaier"},r.a.createElement("section",{className:"form"},r.a.createElement("img",{src:v.a,alt:"logoImage"}),r.a.createElement("form",{onSubmit:function(e){return d.apply(this,arguments)}},r.a.createElement("h1",null,"Faca Seu Logon"),r.a.createElement("input",{required:!0,type:"text",value:a,onChange:function(e){return c(e.target.value)},placeholder:"Sua Id"}),r.a.createElement("button",{className:"button",type:"submit"},"Entrar"),r.a.createElement(l.b,{className:"backlink",to:"/register"},r.a.createElement(f.b,{size:16,color:"#E02041"}),"Nao Tenho Cadastro"))),r.a.createElement("img",{src:b.a,alt:"heroesImage"}))}a(61);function O(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(p.a)(o,2),d=s[0],h=s[1],b=Object(n.useState)(""),g=Object(p.a)(b,2),j=g[0],O=g[1],y=Object(n.useState)(""),S=Object(p.a)(y,2),x=S[0],N=S[1],C=Object(n.useState)(""),k=Object(p.a)(C,2),I=k[0],w=k[1],z=Object(u.f)();function D(){return(D=Object(m.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={name:a,email:d,whatsapp:j,city:x,uf:I},e.prev=2,console.log(n),e.next=6,E.post("ongs",n);case 6:r=e.sent,alert("Cadastro com successo ".concat(r.data.id," E o seu id")),z.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),alert("Error no cadastro, tente novamente");case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"register-container"},r.a.createElement("div",{className:"content"},r.a.createElement("section",null,r.a.createElement("img",{src:v.a,alt:"be the hero"}),r.a.createElement("h1",null,"Cadastro"),r.a.createElement("p",null,"Fa\xe7a seu cadastro, entre na plataforma e ajude pessoas a encontrarem os casos da sua ONG."),r.a.createElement(l.b,{className:"backlink",to:"/"},r.a.createElement(f.a,{size:16,color:"#E02041"}),"Ja Tenho Cadastro")),r.a.createElement("form",{onSubmit:function(e){return D.apply(this,arguments)}},r.a.createElement("input",{required:!0,name:a,onChange:function(e){return c(e.target.value)},type:"text",placeholder:"Nome"}),r.a.createElement("input",{required:!0,name:d,onChange:function(e){return h(e.target.value)},type:"email",placeholder:"E-mail"}),r.a.createElement("input",{required:!0,name:j,onChange:function(e){return O(e.target.value)},type:"text",placeholder:"Whatsapp"}),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{required:!0,name:x,onChange:function(e){return N(e.target.value)},type:"text",placeholder:"Cidade"}),r.a.createElement("input",{required:!0,name:I,onChange:function(e){return w(e.target.value)},type:"text",placeholder:"UF",style:{width:80}})),r.a.createElement("button",{className:"button",type:"submit"},"Registar"))))}a(62);function y(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],o=localStorage.getItem("ongId"),s=localStorage.getItem("ongName"),d=Object(n.useState)(0),h=Object(p.a)(d,2),b=h[0],g=h[1],j=Object(u.f)();function O(){return(O=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.delete("incidents/".concat(t),{headers:{Authorization:o}});case 3:c(a.filter((function(e){return e.id!==t}))),g(a.length-1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Error, Tente novamente :)");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){E.get("incidents/profile",{headers:{Authorization:o}}).then((function(e){c(e.data),g(e.data.length)}))}),[o]),r.a.createElement("div",{className:"profile-container"},r.a.createElement("header",null,r.a.createElement("img",{src:v.a,alt:"Logo do be the hero"}),r.a.createElement("span",null,"Bem vindo, ",s),r.a.createElement(l.b,{className:"button",to:"/incidents/new"},"Cadastrar novo caso"),r.a.createElement("button",{onClick:function(){localStorage.clear(),j.push("/")}},r.a.createElement(f.c,{size:18,color:"#E02041"}))),r.a.createElement("h1",null,"Casos Cadastrados: ",b),r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("strong",null,"Caso: "),r.a.createElement("p",null,e.title),r.a.createElement("strong",null,"Descricao: "),r.a.createElement("p",null,e.description),r.a.createElement("strong",null,"Valor: "),r.a.createElement("p",null,Intl.NumberFormat("pt-pt",{style:"currency",currency:"MZM"}).format(e.value)),r.a.createElement("button",{type:"button",onClick:function(){return function(e){return O.apply(this,arguments)}(e.id)}},r.a.createElement(f.d,{size:20,color:"#a8a8b3"})))}))))}a(63);function S(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(p.a)(o,2),d=s[0],h=s[1],b=Object(n.useState)(""),g=Object(p.a)(b,2),j=g[0],O=g[1],y=localStorage.getItem("ongId"),S=Object(u.f)();function x(){return(x=Object(m.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={title:a,description:d,value:j},e.prev=2,e.next=5,E.post("incidents",n,{headers:{Authorization:y}});case 5:S.push("/profile"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert("Error ao criar, Tente novamente!");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"newincident-container"},r.a.createElement("div",{className:"content"},r.a.createElement("section",null,r.a.createElement("img",{src:v.a,alt:"be the hero"}),r.a.createElement("h1",null,"Cadastrar novo caso"),r.a.createElement("p",null,"Descreva o caso detalhadamente para encontrar um heroi para resolver isso."),r.a.createElement(l.b,{className:"backlink",to:"/profile"},r.a.createElement(f.a,{size:16,color:"#E02041"}),"Voltar para home")),r.a.createElement("form",{onSubmit:function(e){return x.apply(this,arguments)}},r.a.createElement("input",{value:a,onChange:function(e){return c(e.target.value)},type:"text",placeholder:"Titulo do caso"}),r.a.createElement("textarea",{value:d,onChange:function(e){return h(e.target.value)},type:"email",placeholder:"Descricao"}),r.a.createElement("input",{value:j,onChange:function(e){return O(e.target.value)},type:"text",placeholder:"Valor em USD"}),r.a.createElement("button",{className:"button",type:"submit"},"Cadastar"))))}function x(){return r.a.createElement(l.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:j}),r.a.createElement(u.a,{path:"/register",component:O}),r.a.createElement(u.a,{path:"/profile",component:y}),r.a.createElement(u.a,{path:"/incidents/new",component:S})))}a(64);var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x,null))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.c2104414.chunk.js.map